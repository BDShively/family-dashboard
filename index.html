<!-- /family-dashboard/index.html -->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Family Dashboard</title>
  <link rel="stylesheet" href="/family-dashboard/css/base.css">

<style>
  :root{--bg:#0b1220;--bg2:#0f1a2b;--card:#111832;--muted:#9db1d1;--fg:#e6eefc}
  *{box-sizing:border-box} body{margin:0;font-family:system-ui,Segoe UI,Inter,Roboto,Arial;
  background:linear-gradient(160deg,var(--bg),var(--bg2));color:var(--fg)}
  a{color:inherit;text-decoration:none}
  .wrap{max-width:1200px;margin:auto;padding:18px}
  header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
  .btn{padding:8px 10px;border:1px solid #2b325a;border-radius:10px;background:#0f1330}
  .muted{color:var(--muted);font-size:12px}
  .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px}
  @media(max-width:900px){.grid{grid-template-columns:repeat(2,1fr)}}
  @media(max-width:600px){.grid{grid-template-columns:1fr}}
  .tile{display:flex;justify-content:space-between;align-items:center;padding:16px;border:1px solid #2b325a;border-radius:14px;background:#111832}
  .tile:hover{outline:2px solid #2b6cb0}
  h1{margin:6px 0 12px}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="muted">Family Dashboard</div>
    <div id="auth"></div>
  </header>

  <h1>Home</h1>
  <p class="muted">Choose an area.</p>

  <div class="grid">
    <a class="tile" href="/family-dashboard/family/index.html"><span>Family</span><span class="muted">Calendar</span></a>
    <a class="tile" href="/family-dashboard/finances/index.html"><span>Finances</span><span class="muted">Income · Bills</span></a>
    <a class="tile" href="/family-dashboard/vehicles/index.html"><span>Vehicles</span><span class="muted">Maintenance</span></a>
    <a class="tile" href="/family-dashboard/eads/tracker/index.html"><span>EADS</span><span class="muted">Work tracker</span></a>
    <!-- Single Barn link → its own dashboard -->
    <a class="tile" href="/family-dashboard/barn/index.html"><span>Barn Manager</span><span class="muted">Stalls · Employees · Eggs</span></a>
   <!-- UPDATE: /family-dashboard/index.html -->
<!-- Find the grid of tiles and insert this tile anywhere in it -->
<a class="tile" href="/family-dashboard/fitness/index.html">
  <span>Fitness</span><span class="muted">Workouts · Nutrition</span>
</a>
 
  </div>
</div>

<script type="module">
  import { onAuthStateChanged, auth, signOutUser } from "/family-dashboard/js/firebase-init.js";
  onAuthStateChanged(auth,(u)=>{
    const c=document.getElementById('auth');
    if(!u){
      c.innerHTML = `<a class="btn" href="/family-dashboard/main/index.html">Sign in</a>`;
    }else{
      c.innerHTML = `<div class="muted" style="display:flex;gap:8px;align-items:center">
        <span>${u.email}</span><a class="btn" href="#" id="signout">Sign out</a></div>`;
      document.getElementById('signout').onclick=(e)=>{e.preventDefault();signOutUser();};
    }
  });
</script>
</body>
</html>
